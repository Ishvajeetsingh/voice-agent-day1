:root{
  --bg1:#0f1724;
  --bg2:#061126;
  --glass: rgba(255,255,255,0.06);
  --muted:#a2b1c3;
  --text:#e6f2ff;
  --shadow: 0 12px 40px rgba(2,6,23,0.6);
  --radius:14px;
  --glass-border: rgba(255,255,255,0.06);
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* aurora gradient background with richer color depth */
body{
  margin:0;
  min-height:100vh;
  background:
    radial-gradient(800px 400px at 10% 20%, rgba(79,84,255,0.14), transparent 12%),
    radial-gradient(700px 350px at 90% 80%, rgba(16,185,129,0.10), transparent 12%),
    linear-gradient(180deg,#07122a 0%, #081b2f 30%, #0b2740 100%);
  color:var(--text);
  font-size:15px;
  line-height:1.45;
}

/* mode accent applied on html[data-mode] */
html[data-mode="learn"] { --accent-from: #56ccf2; --accent-to: #2f80ed; }
html[data-mode="quiz"]  { --accent-from: #ff8bd6; --accent-to: #8b5cf6; }
html[data-mode="teach_back"] { --accent-from: #7af0b2; --accent-to: #10b981; }
html[data-mode="idle"]  { --accent-from: #56ccf2; --accent-to: #2f80ed; }

.app{max-width:1180px;margin:28px auto;padding:22px}

/* header */
.topbar{display:flex;align-items:center;justify-content:space-between;gap:20px}
.brand h1{margin:0;font-size:30px;color:var(--accent-from);text-transform:capitalize;letter-spacing:-0.3px}
.brand .sub{margin:6px 0 0;color:var(--muted);font-size:13px;text-transform:capitalize}
.mode-chip{
  padding:8px 12px;border-radius:12px;font-weight:700;color:var(--text);
  background: linear-gradient(90deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
  border:1px solid rgba(255,255,255,0.02);
  box-shadow:0 8px 30px rgba(2,6,23,0.6);
}

/* layout */
.layout{display:flex;gap:26px;margin-top:18px}
.main-area{flex:1}
.sidebar{width:360px}

/* glass card with aurora edge and soft glow */
.card{
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-radius:var(--radius);
  padding:16px;
  box-shadow:var(--shadow);
  border:1px solid rgba(255,255,255,0.03);
  backdrop-filter: blur(10px) saturate(120%);
  transition: transform .18s ease, box-shadow .18s ease, border-color .18s;
}
.card:hover{transform:translateY(-6px);box-shadow:0 28px 60px rgba(2,6,23,0.65)}

/* controls */
.controls .row{display:flex;align-items:center;gap:12px;flex-wrap:wrap}
select{padding:10px 12px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));color:var(--text);font-weight:700}
.mode-btn{padding:10px 14px;border-radius:10px;border:none;background:transparent;color:var(--text);font-weight:700;cursor:pointer}
.mode-btn.active{background:linear-gradient(90deg,var(--accent-from),var(--accent-to)); color:#00111a; box-shadow:0 10px 30px rgba(0,0,0,0.45)}
.mode-btn:hover{transform:translateY(-3px);opacity:0.98}

/* mic & tiny glass buttons */
.glass{padding:10px 12px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));color:var(--text);cursor:pointer;font-weight:700}
.glass:hover{transform:translateY(-3px)}

/* big panels */
.big{min-height:150px;margin-top:16px;padding:20px;font-size:15px;color:var(--text)}
h3{margin:0 0 8px 0;color:var(--text);font-size:16px;text-transform:capitalize}
pre{white-space:pre-wrap;font-family:inherit;font-size:14px;color:#d9eef8}

/* aurora accent glow line */
.topbar::after{
  content:"";
  display:block;height:6px;border-radius:8px;margin-top:14px;
  background: linear-gradient(90deg, var(--accent-from), var(--accent-to));
  opacity:0.18;
}

/* mic pulse */
.mic button{position:relative;overflow:visible}
.mic button::after{
  content:"";position:absolute;inset:0;border-radius:10px;box-shadow:0 0 0 rgba(0,0,0,0);
  transform:scale(1);opacity:0;transition:transform .45s, opacity .45s;
}
.mic button.listening::after{
  transform:scale(1.6);opacity:0.08;box-shadow:0 12px 40px rgba(0,0,0,0.45);
}

/* responsive */
@media (max-width:980px){
  .layout{flex-direction:column}
  .sidebar{width:100%}
  .brand h1{font-size:26px}
}
